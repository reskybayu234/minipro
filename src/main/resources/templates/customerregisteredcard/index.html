<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="/js/jquery-3.5.1.min.js"></script>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

    <!-- FONT AWESOME LINK -->
    <script src="https://kit.fontawesome.com/a2c3d1ef47.js" crossorigin="anonymous"></script>
    <!-- AKHIR FONT AWESOME LINK -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>Hello, world!</title>
    <style>
      .nav-tabs .nav-link.active{
        background-color: deepskyblue;
        color: white;
        border:3px solid deepskyblue;
      }

      .nav-tabs .nav-link{
        background-color: white;
        color: deepskyblue;
      }

      .tab-content{
        border :1px solid deepskyblue;
        padding : 50px;
        height:800px;
      }
      table, th, td {
                      border: 1px;
                    }
    </style>
</head>
<body>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark shadow-sm" style="background-color: deepskyblue; height:50px;">
    <div class="container">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb" style="margin-top:15px; background-color: deepskyblue;">
                <li class="breadcrumb-item"><a href="#">Beranda</a></li>
                <li class="breadcrumb-item active" aria-current="page">Profile</li>
            </ol>
        </nav>
    </div>
</nav>
<!-- AKHIR NAVBAR -->

<div class="container bootstrap snippet">
    <div class="row">
        <div class="col-sm-3" style="margin-top:100px;"><!--left col-->
            <div class="text-center" style="float: left;">
                <img src="http://ssl.gstatic.com/accounts/ui/avatar_2x.png" class="rounded-circle" alt="avatar">
                <div class="bintangicon" style="margin-top:20px; margin-bottom: 10px;">
                    <i class="fas fa-star" style="font-size: 25px; color: chocolate;"></i>
                </div>
                <h6>Bronze Member</h6>
                <h6>Since 2020</h6>
            </div><br>

            <div class="editicon" style="float: left; width: 10px;">
                <a href="https://www.youtube.com/watch?v=DPnJldwv22o">
                    <i class="fas fa-edit" type="button" style="font-size: 15px"></i>
                </a>
            </div>

            <div class="clearleft" style="clear: left;"></div><br><br>


            <div class="borderless">
                <table>
                    <tbody>
                    <tr >
                        <a href="www.google.com"><h6 type="button" style="color: deepskyblue; padding: 20px;"><b> Pasien</b> </h6></a>
                    </tr>
                    <tr>
                        <a href="www.google.com"><h6 type="button" style="color: deepskyblue; padding: 20px;"> <b>Pembelian Obat</b> </h6></a>
                    </tr>
                    <tr>
                        <a href="www.google.com"><h6 type="button" style="color: deepskyblue; padding: 20px;"> <b>Rencana Kedatangan</b> </h6></a>
                    </tr>
                    <tr>
                        <a href="www.google.com"><h6 type="button" style="color: deepskyblue; padding: 20px;"> <b>Riwayat Chat Dokter</b> </h6></a>
                    </tr>
                    </tbody>
                </table>
            </div>


        </div><!--/col-3-->

        <div class="col-sm-9" style="margin-top:100px;">
            <div class="container mt-2">
                <ul class="nav nav-tabs">
                    <li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#profile">Profile</a></li>
                    <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#alamat">Alamat</a></li>
                    <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" onclick="" href="#pembayaran" >Pembayaran</a></li>
                </ul>
                <div class="tab-content">

                    <div class="tab-pane active" id="profile">
                        <div class="row border g-0 rounded shadow-sm">
                            <div class="col p-4">
                                <h3>Home</h3>
                                <p>iniininini</p>
                            </div>
                            <div class="col-auto">

                            </div>
                        </div>
                    </div><!-- tab-pane profile -->

                    <div class="tab-pane active" id="alamat">
                        <div class="row border g-0 rounded shadow-sm">
                            <div class="col p-4">
                                <h3>Alamat</h3>
                                <p>tututututuutu</p>
                            </div>
                            <div class="col-auto">

                            </div>
                        </div>
                    </div><!-- tab-pane alamat -->

                    <div class="tab-pane active" id="pembayaran">
                        <div class="row border g-0 rounded shadow-sm" style="height: 300px;">
                            <div class="col p-4" id="ini">

                            </div>
                            <div class="col-auto">
                                <button type="button" class="btn btn-primary float-right" data-bs-toggle="modal" data-bs-target="#myModal"
                                        onclick="Tambah()" style="margin-top:20px;">+Tambah
                                </button>
                            </div>
                        </div><!-- row pertama -->

                        <div class="row border g-0 rounded shadow-sm" style="height: 300px; margin-top:20px;">
                            <div class="col p-4" id="ini1">

                            </div>
                            <div class="col-auto">
                                <button type="button" class="btn btn-primary float-right" data-bs-toggle="modal" data-bs-target="#myModal"
                                        onclick="Tambah()" style="margin-top:20px; margin-left: 10px;">Isi Saldo
                                </button>
                                <button type="button" class="btn btn-primary float-right" data-bs-toggle="modal" data-bs-target="#myModal"
                                        onclick="Tambah()" style="margin-top:20px; margin-left: 10px;">Atur Pin
                                </button>
                                <button type="button" class="btn btn-primary float-right" data-bs-toggle="modal" data-bs-target="#myModal"
                                        onclick="Tambah()" style="margin-top:20px; margin-left: 10px;">Tutup
                                </button>
                            </div>
                        </div><!-- row kedua -->
                    </div><!-- tab-pane pembayaran -->

                </div><!-- Tab content -->
            </div>
        </div>

    </div><!-- row -->
</div><!-- container bootstrap snippet -->

<div class="container mt-5">
    <!-- Modal Tambah -->
    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog">

            <!-- Modal Content -->
            <div class="modal-content">
                <div class="modal-header" style="background-color: #e3f2fd;">
                    <h6 class="modal-title" >Tambah</h6>
                    <button type="button" onclick="BackCourier()" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="false">&times;</span>
                    </button>
                </div>

                <div class="modal-body">

                </div>
            </div>
        </div>
    </div>
</div>

<div id="paymentmethodList"></div>

<script>

$.ajax ({

    url : '/api/customercard',
    type : 'get',
    contentType : 'application/json',
    success : function(data){

<!--            var str = '<p style="text-align:right; margin-left:20px;">' + data[i].cardNumber + '</p>';-->

            			    var str = '<table align="center" style="width:80%; margin-left:20px;" >';
                            str += '<tr>';
                            str += '<th style="color:deepskyblue">Kartu Kredit / Debit (2/4 Tersimpan)</th>';
                            str += '</tr>';
							for (i = 0; i < data.length; i++) {
									str += '<tr>';
									str += '<td style="height:20px">' + data[i].cardNumber + '</td>';
									str += '<td><i class="fas fa-trash" style="color:deepskyblue" type="button"></i>  Hapus</td>';
									str += '</tr>';
								}
								str += "</table>";
								$('#ini').html(str)

      }

})

    function Tambah(){
             var form = '<table class="table table-borderless">';
             form += '<tr>';
             form += '<th>Nama*</th>';
             form += '</tr>';
             form += '<tr>';
             form += '<td><input class="form-control" type="text" id="card_number"></td>';
             form += '</tr>';
             form += '<tr>';
             form += '<th>';
             form += '<button class="btn btn-success float-right ml-5" onclick="SaveCustomerCard(this.value)">Simpan</button>';
             form += '<button class="btn btn-secondary float-right" onclick="BackCourier()">Batal</button>';
             form += '</th>';
             form += '</tr>';
             form += '</table>';

   $('.modal-title').html("TAMBAH");
   $('.modal-body').html(form);
   $('#myModal').modal('show');
 }

 function SaveCustomerCard(){

  var formData = "{";
  formData += '"cardNumber":"' + $('#card_number').val() + '"';
  formData += "}";

  console.log(formData)
    $.ajax({
            url : '/api/customercard',
            type : 'post',
            data : formData,
            contentType : 'application/json',
            success : function(data){

                window.location.href='/customerregisteredcard/index';

             }
    });

 }

</script>

</body>
</html>